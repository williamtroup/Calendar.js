function calendarJs(vc,wc,xc){function aa(a){n=h(a)?a:new Date;var b=(new Date(n.getFullYear(),n.getMonth(),1)).getDay();a=sb(n.getFullYear(),n.getMonth());0===b&&(b=7);tb();if(!Qb){var c=ba(Rb);c.className="calendar";c.innerHTML="";yc(c);zc(c);Ac(c);Bc(c);var e=f("div"),g=d.dayHeaderNames.length;e.className="row header-days";c.appendChild(e);for(var k=0;k<g;k++){var l=d.dayHeaderNames[k],m=f("div");m.className="cell";m.innerHTML=l;e.appendChild(m)}for(e=0;6>e;e++)for(g=f("div"),g.className="row",
c.appendChild(g),k=0;7>k;k++)l=7*e+(k+1),m=f("div"),m.className="cell",m.id="calendar-day-"+l,g.appendChild(m),0<d.minimumDayHeight&&(m.style.height=d.minimumDayHeight+"px");Qb=!0}k=b;if(1<k)for(c=new Date(n),c.setMonth(c.getMonth()-1),e=sb(c.getFullYear(),c.getMonth()),g=1,k=e-k+1;k<e;k++)ub(k+1,g,c.getMonth(),c.getFullYear(),!0),g++;for(e=c=0;e<a;e++)c=b+e,ub(e+1,c,n.getMonth(),n.getFullYear(),!1);if(42>c)for(a=1,b=new Date(n),b.setMonth(b.getMonth()+1),c+=1;43>c;c++)ub(a,c,b.getMonth(),b.getFullYear(),
!0),a++;ca();null===M&&(M=f("div"),M.className="disabled-background");null===da&&(da=f("div"),da.className="calendar-dialog event-editor",q.body.appendChild(da),b=f("div"),b.className="view",da.appendChild(b),ea=f("div"),ea.className="disabled-area",b.appendChild(ea),Ba=f("div"),Ba.className="title-bar",b.appendChild(Ba),a=f("div"),a.className="contents",b.appendChild(a),b=f("p"),b.innerText=d.titleText,a.appendChild(b),b=f("div"),b.className="input-title-container",a.appendChild(b),R=f("input"),
R.type="text",b.appendChild(R),c=f("input"),c.className="select-colors",c.type="button",c.value="...",c.onclick=Cc,b.appendChild(c),b=f("p"),b.innerText=d.fromText,a.appendChild(b),b=f("div"),b.className="split",a.appendChild(b),H=f("input"),H.onchange=vb,b.appendChild(H),fa(H,"date"),I=f("input"),b.appendChild(I),fa(I,"time"),Ca=Sb(a,d.isAllDayEventText,vb),b=f("p"),b.innerText=d.toText,a.appendChild(b),b=f("div"),b.className="split",a.appendChild(b),B=f("input"),b.appendChild(B),fa(B,"date"),J=
f("input"),b.appendChild(J),fa(J,"time"),b=f("p"),b.innerText=d.locationText,a.appendChild(b),qa=f("input"),qa.type="text",a.appendChild(qa),b=f("p"),b.innerText=d.descriptionText,a.appendChild(b),ra=f("textarea"),ra.className="custom-scroll-bars",a.appendChild(ra),sa=f("p"),sa.className="error",a.appendChild(sa),b=f("div"),b.className="split",a.appendChild(b),S=f("input"),S.className="ok",S.type="button",S.value=d.addText,S.onclick=Dc,b.appendChild(S),c=f("input"),c.className="cancel",c.type="button",
c.value=d.cancelText,c.onclick=wb,b.appendChild(c),T=f("input"),T.className="remove",T.type="button",T.value=d.removeEventText,T.onclick=Ec,a.appendChild(T));null===U&&(U=f("div"),U.className="calendar-dialog event-editor-colors",q.body.appendChild(U),a=f("div"),a.className="title-bar",a.innerHTML=d.selectColorsText,U.appendChild(a),a=f("div"),a.className="contents",U.appendChild(a),b=f("p"),b.innerText=d.backgroundColorText,a.appendChild(b),ta=f("input"),a.appendChild(ta),fa(ta,"color"),b=f("p"),
b.innerText=d.textColorText,a.appendChild(b),ua=f("input"),a.appendChild(ua),fa(ua,"color"),b=f("p"),b.innerText=d.borderColorText,a.appendChild(b),va=f("input"),a.appendChild(va),fa(va,"color"),b=f("div"),b.className="split",a.appendChild(b),a=f("input"),a.className="ok",a.type="button",a.value=d.okText,a.onclick=Fc,b.appendChild(a),a=f("input"),a.className="cancel",a.type="button",a.value=d.cancelText,a.onclick=Tb,b.appendChild(a));null===V&&(V=f("div"),V.className="calendar-dialog confirmation",
q.body.appendChild(V),Ua=f("div"),Ua.className="title-bar",V.appendChild(Ua),a=f("div"),a.className="contents",V.appendChild(a),Va=f("div"),Va.className="message",a.appendChild(Va),b=f("div"),b.className="split",a.appendChild(b),ha=f("input"),ha.className="yes",ha.type="button",ha.value=d.yesText,b.appendChild(ha),ia=f("input"),ia.className="no",ia.type="button",ia.value=d.noText,b.appendChild(ia));null===W&&(W=f("div"),W.className="calendar-dialog select-export-type",q.body.appendChild(W),a=f("div"),
a.className="title-bar",a.innerHTML=d.selectExportTypeTitle,W.appendChild(a),b=f("div"),b.className="contents",W.appendChild(b),xb=Wa(b,"CSV","ExportType"),Ub=Wa(b,"XML","ExportType"),Vb=Wa(b,"JSON","ExportType"),Wb=Wa(b,"TEXT","ExportType"),a=f("div"),a.className="split",b.appendChild(a),b=f("input"),b.className="ok",b.type="button",b.value=d.okText,b.onclick=Gc,a.appendChild(b),b=f("input"),b.className="cancel",b.type="button",b.value=d.cancelText,b.onclick=Xb,a.appendChild(b));null===x&&(x=f("div"),
x.className="calendar-dialog search",q.body.appendChild(x),a=f("div"),a.className="title-bar",a.innerHTML=d.searchEventsTitle,a.onmousedown=Hc,a.onmouseup=Ic,x.appendChild(a),b=f("div"),b.className="ib-close",b.onclick=Jc,a.appendChild(b),t(b,d.closeTooltipText),a=f("div"),a.className="contents",x.appendChild(a),b=f("p"),b.innerText=d.forText,a.appendChild(b),C=f("input"),C.type="text",C.oninput=yb,C.onpropertychange=yb,C.onkeypress=Kc,a.appendChild(C),Yb=Sb(a,d.matchCaseText),b=f("div"),b.className=
"split",a.appendChild(b),X=f("input"),X.className="previous",X.type="button",X.value=d.previousText,X.onclick=Lc,b.appendChild(X),N=f("input"),N.className="next",N.type="button",N.value=d.nextText,N.onclick=Zb,b.appendChild(N),q.body.addEventListener("mousemove",Mc));null===u&&(u=f("div"),q.body.appendChild(u),Xa=f("div"),Xa.className="title",Da=f("div"),Da.className="date",wa=f("div"),wa.className="description",xa=f("div"),xa.className="location",document.body.addEventListener("mousemove",zb));Nc();
Ea.innerHTML=d.monthNames[n.getMonth()]+", "+n.getFullYear()+" \u25be"}function Ya(){var a=[];Za(function(b){a.push(b)});return a}function Za(a){for(var b in D)if(D.hasOwnProperty(b))for(var c in D[b])if(D[b].hasOwnProperty(c)&&a($b(D[b][c]),b,c))return}function Fa(a){return a.sort(function(b,c){return b.from-c.from})}function Bc(a){w=f("div");w.className="header-date";a.appendChild(w);d.fullScreenModeEnabled&&(w.ondblclick=function(){$a(a)});var b=f("div");b.className="ib-arrow-left-full";b.onclick=
ac;b.ondblclick=r;w.appendChild(b);t(b,d.previousMonthTooltipText);b=f("div");b.className="ib-pin";b.onclick=bc;b.ondblclick=r;w.appendChild(b);t(b,d.todayTooltipText);b=f("div");b.className="ib-refresh";b.onclick=Ab;b.ondblclick=r;w.appendChild(b);t(b,d.refreshTooltipText);b=f("div");b.className="ib-search";b.onclick=Oc;b.ondblclick=r;w.appendChild(b);t(b,d.searchTooltipText);b=f("div");b.className="ib-arrow-right-full";b.onclick=cc;b.ondblclick=r;w.appendChild(b);t(b,d.nextMonthTooltipText);d.manualEditingEnabled&&
(b=f("div"),b.className="ib-plus",b.onclick=ab,b.ondblclick=r,w.appendChild(b),t(b,d.addEventTooltipText));d.exportEventsEnabled&&(ja=f("div"),ja.className="ib-arrow-down-full-line",ja.ondblclick=r,w.appendChild(ja),t(ja,d.exportEventsTooltipText),ja.onclick=function(){bb()});b=f("div");b.className="ib-eye";b.onclick=dc;b.ondblclick=r;w.appendChild(b);t(b,d.listAllEventsTooltipText);b=f("div");b.className="ib-hamburger";b.ondblclick=r;w.appendChild(b);b.onclick=function(){Bb()};t(b,d.listWeekEventsTooltipText);
b=f("div");b.className="title-container";w.appendChild(b);Ea=f("span");Ea.ondblclick=r;b.appendChild(Ea);Pc(b)}function Pc(a){if(null===y){var b=new Date(1900,1,1),c=(new Date).getFullYear()-b.getFullYear()+d.extraSelectableYearsAhead;y=f("div");y.className="years-drop-down";a.appendChild(y);Ga=f("div");Ga.className="contents custom-scroll-bars";y.appendChild(Ga);for(a=0;a<c;a++)Qc(b.getFullYear()),b.setFullYear(b.getFullYear()+1);Ea.onclick=Rc;q.body.addEventListener("click",cb);q.body.addEventListener("contextmenu",
cb);db.addEventListener("resize",cb)}}function Qc(a){var b=f("div");b.innerText=a.toString();b.id="year-selected-"+a.toString();Ga.appendChild(b);b.onclick=function(){n.setFullYear(a);aa(n);tb()}}function $b(a){a.isAllDayEvent&&(a.from=new Date(a.from.getFullYear(),a.from.getMonth(),a.from.getDate(),0,0),a.to=new Date(a.from.getFullYear(),a.from.getMonth(),a.from.getDate(),23,59));return a}function Ha(a,b){var c=new Date(a.getFullYear(),a.getMonth(),a.getDate()),e=new Date(b.getFullYear(),b.getMonth(),
b.getDate());return Math.ceil(Math.abs(e-c)/864E5)}function Rc(a){if("block"!==y.style.display){r(a);a=y.getElementsByClassName("current-year-selected");if(null!==a&&1<=a.length)for(var b=a.length,c=0;c<b;c++)a[c].removeAttribute("class");a=ba("year-selected-"+n.getFullYear());null!==a&&(a.className="current-year-selected");y.style.display="block";Ga.scrollTop=a.offsetTop-y.offsetHeight/2}}function tb(){Cb()&&(y.style.display="none")}function Cb(){return null!==y&&"block"===y.style.display}function Ia(a){if(null!==
d&&Db(d[a]))d[a]()}function eb(a,b){if(null!==d&&Db(d[a]))d[a](b)}function ec(){for(var a=[],b=0;32>b;b++){8!==b&&12!==b&&16!==b&&20!==b||a.push("-");var c=Math.floor(16*Math.random()).toString(16);a.push(c)}return a.join("")}function $a(a){0>=a.className.indexOf(" full-screen-view")?(a.className+=" full-screen-view",fc=a.style.cssText,a.removeAttribute("style")):(a.className=a.className.replace(" full-screen-view",""),a.style.cssText=fc)}function cb(){Eb()&&(E.style.display="none");tb();zb()}function ca(){for(var a=
0;6>a;a++)for(var b=0;7>b;b++)for(var c=ba("calendar-day-"+(7*a+(b+1))).getElementsByClassName(d.manualEditingEnabled?"event":"event-no-hover");c[0];)c[0].parentNode.removeChild(c[0]);null!==Ja&&0<d.autoRefreshTimerDelay&&(clearTimeout(Ja),Ja=null);a=Fa(Ya());b=a.length;for(c=0;c<b;c++){var e=a[c];if(null!==Fb(e.from)&&(gc(e.from,e),e.from.getDate()!==e.to.getDate())){var g=Ha(e.from,e.to);if(0<g)for(var k=new Date(e.from),l=0;l<g;l++)k.setDate(k.getDate()+1),null!==Fb(k)&&gc(k,e)}}d.exportEventsEnabled&&
(ja.style.display=0===b?"none":"inline-block");Sc()}function gc(a,b){var c=Fb(a);if(null!==c&&c.getElementsByClassName(d.manualEditingEnabled?"event":"event-no-hover").length<d.maximumEventsPerDayDisplay){var e=f("div"),g=b.title;d.showTimesInMainCalendarEvents&&!b.isAllDayEvent&&b.from.getDate()===b.to.getDate()&&(g=Ka(b.from,b.to)+": "+g);e.className=d.manualEditingEnabled?"event":"event-no-hover";e.innerHTML=g;c.appendChild(e);e.onmousemove=function(k){hc(k,b)};fb(b,e);d.manualEditingEnabled&&
(e.onclick=function(){ka(b)});d.dragAndDropForEventsEnabled&&d.manualEditingEnabled&&(e.setAttribute("draggable",!0),e.ondragstart=function(){v=b})}}function Fb(a){var b=new Date(n.getFullYear(),n.getMonth(),1),c=new Date(n),e=new Date(n),g=null,k=0;c.setMonth(c.getMonth()+1);e.setMonth(e.getMonth()-1);a.getMonth()===c.getMonth()&&a.getFullYear()===c.getFullYear()?(b=b.getDay()+sb(n.getFullYear(),n.getMonth()),k=a.getDate()+b-1):a.getMonth()===e.getMonth()&&a.getFullYear()===e.getFullYear()?k=b.getDay()-
Ha(a,n):a.getMonth()===n.getMonth()&&a.getFullYear()===n.getFullYear()&&(b=b.getDay(),k=a.getDate()+b-1);0<k&&(g=ba("calendar-day-"+k));return g}function fb(a,b){a.to<new Date&&(b.className+=" expired");F(a.color)?(b.style.backgroundColor=a.color,F(a.colorText)&&(b.style.color=a.colorText),F(a.colorBorder)&&(b.style.borderLeftColor=a.colorBorder)):a.isAllDayEvent&&(b.className+=" all-day-event")}function Ac(a){if(null===O){O=f("div");O.className="full-day-view";a.appendChild(O);var b=f("div");b.className=
"title-bar";O.appendChild(b);d.fullScreenModeEnabled&&(b.ondblclick=function(){$a(a)});La=f("div");La.className="title";b.appendChild(La);var c=f("div");c.className="ib-close";c.ondblclick=r;b.appendChild(c);t(c,d.closeTooltipText);c.onclick=function(){Gb(O);gb=null};d.manualEditingEnabled&&(c=f("div"),c.className="ib-plus",c.onclick=ab,c.ondblclick=r,b.appendChild(c),t(c,d.addEventTooltipText));d.exportEventsEnabled&&(la=f("div"),la.className="ib-arrow-down-full-line",la.ondblclick=r,b.appendChild(la),
t(la,d.exportEventsTooltipText),la.onclick=function(){bb(Hb)});Ma=f("div");Ma.className="contents custom-scroll-bars";O.appendChild(Ma)}}function Ib(a){Jb(O);La.innerText="";Ma.innerHTML="";gb=a;Hb=[];ma(La,a,!1,!0,!0);var b=[];Za(function(g){for(var k=Ha(g.from,g.to)+1,l=new Date(g.from),m=0;m<k;m++)l.getFullYear()===a.getFullYear()&&l.getMonth()===a.getMonth()&&l.getDate()===a.getDate()&&b.push(g),l.setDate(l.getDate()+1)});b=Fa(b);for(var c=b.length,e=0;e<c;e++)Tc(b[e]);d.exportEventsEnabled&&
(la.style.display=0===b.length?"none":"inline-block")}function Tc(a){var b=f("div");b.className=d.manualEditingEnabled?"event":"event-no-hover";Ma.appendChild(b);var c=f("div");c.className="title";c.innerHTML=a.title;b.appendChild(c);c=f("div");c.className="date";b.appendChild(c);a.from.getDate()===a.to.getDate()?c.innerHTML=a.isAllDayEvent?d.allDayEventText:Ka(a.from,a.to):hb(c,a.from,a.to);fb(a,b);F(a.location)&&(c=f("div"),c.className="location",c.innerHTML=a.location,b.appendChild(c));F(a.description)&&
(c=f("div"),c.className="description",c.innerHTML=a.description,b.appendChild(c));d.manualEditingEnabled&&(b.onclick=function(){ka(a)});Hb.push(a)}function yc(a){if(null===P){P=f("div");P.className="list-all-events-view";a.appendChild(P);var b=f("div");b.className="title-bar";P.appendChild(b);d.fullScreenModeEnabled&&(b.ondblclick=function(){$a(a)});var c=f("div");c.className="title";c.innerHTML=d.allEventsText;b.appendChild(c);c=f("div");c.className="ib-close";c.ondblclick=r;b.appendChild(c);t(c,
d.closeTooltipText);c.onclick=function(){Gb(P)};d.manualEditingEnabled&&(c=f("div"),c.className="ib-plus",c.onclick=ab,c.ondblclick=r,b.appendChild(c),t(c,d.addEventTooltipText));d.exportEventsEnabled&&(ya=f("div"),ya.className="ib-arrow-down-full-line",ya.ondblclick=r,b.appendChild(ya),t(ya,d.exportEventsTooltipText),ya.onclick=function(){bb()});Na=f("div");Na.className="contents custom-scroll-bars";P.appendChild(Na)}}function dc(){Jb(P);Na.innerHTML="";for(var a=Fa(Ya()),b=a.length,c=0;c<b;c++){var e=
a[c],g=e.from,k="month-"+g.getMonth()+"-"+g.getFullYear(),l=ba(k);if(null===l){var m=f("div");m.className="month";Na.appendChild(m);l=f("div");l.className="header";l.innerHTML=d.monthNames[g.getMonth()]+" "+g.getFullYear();m.appendChild(l);l=f("div");l.id=k;l.className="events";m.appendChild(l)}Uc(e,l)}}function Uc(a,b){var c=f("div");c.className=d.manualEditingEnabled?"event":"event-no-hover";b.appendChild(c);var e=f("div");e.className="title";e.innerHTML=a.title;c.appendChild(e);e=f("div");e.className=
"date";c.appendChild(e);a.from.getDate()===a.to.getDate()?a.isAllDayEvent?ib(e,a.from,null," - "+d.allDayEventText):ib(e,a.from,null," - "+Ka(a.from,a.to)):hb(e,a.from,a.to);fb(a,c);F(a.location)&&(e=f("div"),e.className="location",e.innerHTML=a.location,c.appendChild(e));F(a.description)&&(e=f("div"),e.className="description",e.innerHTML=a.description,c.appendChild(e));d.manualEditingEnabled&&(c.onclick=function(){ka(a)})}function zc(a){if(null===Q){Q=f("div");Q.className="list-all-week-events-view";
a.appendChild(Q);var b=f("div");b.className="title-bar";Q.appendChild(b);d.fullScreenModeEnabled&&(b.ondblclick=function(){$a(a)});G=f("div");G.className="title";b.appendChild(G);var c=f("div");c.className="ib-close";c.ondblclick=r;b.appendChild(c);t(c,d.closeTooltipText);c.onclick=function(){Gb(Q)};d.manualEditingEnabled&&(c=f("div"),c.className="ib-plus",c.onclick=ab,c.ondblclick=r,b.appendChild(c),t(c,d.addEventTooltipText));d.exportEventsEnabled&&(na=f("div"),na.className="ib-arrow-down-full-line",
na.ondblclick=r,b.appendChild(na),t(na,d.exportEventsTooltipText),na.onclick=function(){bb(jb)});Oa=f("div");Oa.className="contents custom-scroll-bars";Q.appendChild(Oa)}}function Bb(a){Jb(Q);Oa.innerHTML="";jb=[];ic=a;a=h(a)?a:new Date;var b=0===a.getDay()?7:a.getDay();b=a.getDate()-b+1;var c=b+6,e=new Date(a);a=new Date(a);e.setDate(b);e.setHours(0,0,0,0);a.setDate(c);a.setHours(23,59,59,99);b=[e,a];a=b[0];b=b[1];G.innerHTML="";a.getFullYear()===b.getFullYear()?(ma(G,a,!1,!1),c=f("span"),c.innerHTML=
" - ",G.appendChild(c),ma(G,b,!1,!1),c=f("span"),c.innerHTML=", "+a.getFullYear(),G.appendChild(c)):(ma(G,a,!1,!0),c=f("span"),c.innerHTML=" - ",G.appendChild(c),ma(G,b,!1,!0));c=Fa(Ya());e=c.length;for(var g=0;g<e;g++){for(var k=c[g],l=Ha(k.from,k.to)+1,m=new Date(k.from),p=!1,kb=0;kb<l;kb++){if(m>=a&&m<=b){p=m;var za=jc(p),kc="day-"+za,K=ba(kc);if(null===K){var lb=f("div");lb.className="day";Oa.appendChild(lb);K=f("div");K.className="header";lb.appendChild(K);ib(K,p,d.dayNames[za]+", ");K=f("div");
K.id=kc;K.className="events";lb.appendChild(K)}Vc(k,K);p=!0}m.setDate(m.getDate()+1)}p&&jb.push(k)}d.exportEventsEnabled&&(na.style.display=0===jb.length?"none":"inline-block")}function Vc(a,b){var c=f("div");c.className=d.manualEditingEnabled?"event":"event-no-hover";b.appendChild(c);var e=f("div");e.className="title";e.innerHTML=a.title;c.appendChild(e);e=f("div");e.className="date";c.appendChild(e);a.from.getDate()===a.to.getDate()?e.innerHTML=a.isAllDayEvent?d.allDayEventText:Ka(a.from,a.to):
hb(e,a.from,a.to);fb(a,c);F(a.location)&&(e=f("div"),e.className="location",e.innerHTML=a.location,c.appendChild(e));F(a.description)&&(e=f("div"),e.className="description",e.innerHTML=a.description,c.appendChild(e));d.manualEditingEnabled&&(c.onclick=function(){ka(a)})}function jc(a){return 0>a.getDay()-1?6:a.getDay()-1}function Ka(a,b){return Kb(a)+" "+d.toTimeText+" "+Kb(b)}function Kb(a){return z(a.getHours())+":"+z(a.getMinutes())}function hb(a,b,c){a.innerHTML="";var e=f("span");e.innerText=
d.startsOnText+" ";a.appendChild(e);ma(a,b);b=f("span");b.innerText=" "+d.andFinishesOnText+" ";a.appendChild(b);ma(a,c)}function ma(a,b,c,e,g){c=h(c)?c:!0;e=h(e)?e:!0;if(g=h(g)?g:!1){g=jc(b);var k=f("span");k.innerText=d.dayNames[g]+", ";a.appendChild(k)}ib(a,b);g=f("span");g.innerText=" "+d.monthNames[b.getMonth()];a.appendChild(g);e&&(e=f("span"),e.innerText=" "+b.getFullYear(),a.appendChild(e));c&&(c=f("span"),c.innerText=" "+Kb(b),a.appendChild(c))}function ib(a,b,c,e){if(h(c)){var g=f("span");
g.innerText=c;a.appendChild(g)}c=f("span");c.innerText=b.getDate();a.appendChild(c);d.showDayNumberOrdinals&&(c=f("sup"),c.innerText=lc(b.getDate()),a.appendChild(c));h(e)&&(b=f("span"),b.innerText=e,a.appendChild(b))}function ub(a,b,c,e,g){var k=new Date;k=a===k.getDate()&&e===k.getFullYear()&&c===k.getMonth();b=ba("calendar-day-"+b);var l=f("span"),m=new Date(e,c,a);b.innerHTML="";l.className=g?"day-muted":"";l.className+=k?" today":"";l.innerText=a;if(6===m.getDay()||0===m.getDay())b.className+=
" weekend-day";b.oncontextmenu=function(p){mb=m;cb();r(p);mc(p,E)};d.showDayNumberOrdinals&&(g=f("sup"),g.innerText=lc(a),l.appendChild(g));b.appendChild(l);d.fullDayViewEnabled&&(g=f("div"),g.className="expand-day",b.appendChild(g),t(g,d.expandDayTooltipText),g.onclick=function(){Ib(m)});d.manualEditingEnabled&&(b.ondblclick=function(){ka(null,m)},d.manualEditingEnabled&&(b.ondragover=function(p){r(p)},b.ondrop=function(p){r(p);if(null!==v){p=Ha(v.from,v.to);var kb=new Date(e,c,a,v.from.getHours(),
v.from.getMinutes()),za=new Date(e,c,a,v.to.getHours(),v.to.getMinutes());0<p&&za.setDate(za.getDate()+p);Pa.updateEvent(v.id,{from:kb,to:za,title:v.title,description:v.description,location:v.location,isAllDayEvent:v.isAllDayEvent,color:v.color,colorText:v.colorText,colorBorder:v.colorBorder})}}))}function sb(a,b){return(new Date(a,b+1,0)).getDate()}function lc(a){var b=d.thText;if(31===a||21===a||1===a)b=d.stText;else if(22===a||2===a)b=d.ndText;else if(23===a||3===a)b=d.rdText;return b}function Nc(){E=
f("div");E.className="calendar-drop-down-menu";q.body.appendChild(E);var a=f("div");a.className="item";a.innerHTML=d.addEventTitle;E.appendChild(a);a.onclick=function(){ka(null,mb)};a=f("div");a.className="separator";E.appendChild(a);a=f("div");a.className="item";a.innerHTML=d.expandDayTooltipText;E.appendChild(a);a.onclick=function(){Ib(mb)};a=f("div");a.className="separator";E.appendChild(a);a=f("div");a.className="item";a.innerHTML=d.listWeekEventsTooltipText;E.appendChild(a);a.onclick=function(){Bb(mb)}}
function Eb(){return"block"===E.style.display}function fa(a,b){try{a.type=b}catch(c){a.type="text"}}function ab(){ka(null,gb)}function vb(){var a=!1;Ca.checked&&(B.value=H.value,I.value="00:00",J.value="23:59",a=!0);B.disabled=a;I.disabled=a;J.disabled=a}function ka(a,b){nb(q.body,M);da.style.display="block";sa.style.display="none";R.focus();if(h(a))S.value=d.updateText,T.style.display="block",Ba.innerHTML=d.editEventTitle,A=a,H.value=ob(a.from,H.type),I.value=pb(a.from),B.value=ob(a.to,B.type),J.value=
pb(a.to),Ca.checked=a.isAllDayEvent,R.value=L(a.title),ra.value=L(a.description),qa.value=L(a.location),ta.value=L(a.color,"#484848"),ua.value=L(a.colorText,"#F5F5F5"),va.value=L(a.colorBorder,"#282828");else{var c=new Date,e=h(b)?b:c,g=new Date;e.getDate()===g.getDate()&&e.getFullYear()===g.getFullYear()&&e.getMonth()===g.getMonth()&&(e.setHours(c.getHours()),e.setMinutes(c.getMinutes()));S.value=d.addText;T.style.display="none";Ba.innerHTML=d.addEventTitle;A={};H.value=ob(e,H.type);I.value=pb(e);
B.value=ob(e,B.type);J.value=pb(e);Ca.checked=!1;R.value="";ra.value="";qa.value="";ta.value="#484848";ua.value="#F5F5F5";va.value="#282828"}vb()}function Dc(){var a=nc(H),b=nc(B),c=I.value.split(":"),e=J.value.split(":"),g=Lb(R.value),k=Lb(ra.value),l=Lb(qa.value);2>c.length?qb(d.fromTimeErrorMessage,I):2>e.length?qb(d.toTimeErrorMessage,J):b<a?qb(d.toSmallerThanFromErrorMessage,B):""===g?qb(d.titleErrorMessage,R):(wb(),oc(a,I.value),oc(b,J.value),a={from:a,to:b,title:g,description:k,location:l,
isAllDayEvent:Ca.checked,color:A.color,colorText:A.colorText,colorBorder:A.colorBorder},h(A.id)?Pa.updateEvent(A.id,a,!1):Pa.addEvent(a,!1),ca(),Mb())}function oc(a,b){var c=0,e=0,g=b.split(":");if(2===g.length){var k=parseInt(g[0]);g=parseInt(g[1]);!isNaN(k)&&2>=k.toString().length&&(c=k);!isNaN(g)&&2>=g.toString().length&&(e=g)}a.setHours(c);a.setMinutes(e)}function nc(a){var b=new Date;if("date"===a.type)b=new Date(a.value);else if(a=a.value.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/))a=new Date(a[3],
a[2]-1,a[1]),a instanceof Date&&!isNaN(a)&&(b=a);return b}function wb(){da.style.display="none";rb(q.body,M)}function Ec(){ea.style.display="block";var a=function(){ea.style.display="none"};Wc(d.confirmEventRemoveTitle,d.confirmEventRemoveMessage,function(){a();wb();h(A.id)&&(Pa.removeEvent(A.id,!0),Mb())},a)}function ob(a,b){var c=("0"+a.getDate()).slice(-2),e=("0"+(a.getMonth()+1)).slice(-2);return"date"===b?a.getFullYear()+"-"+e+"-"+c:c+"/"+e+"/"+a.getFullYear()}function pb(a){return z(a.getHours())+
":"+z(a.getMinutes())}function z(a){a=a.toString();return 1===a.length?"0"+a:a}function qb(a,b){sa.innerHTML=a;sa.style.display="block";b.focus()}function Lb(a){return a.replace(/^\s+|\s+$/g,"")}function Mb(){Qa(O)&&Ib(gb);Qa(P)&&dc();Qa(Q)&&Bb(ic)}function Fc(){Tb();A.color=ta.value;A.colorText=ua.value;A.colorBorder=va.value}function Tb(){U.style.display="none";ea.style.display="none"}function Cc(){U.style.display="block";ea.style.display="block"}function Wc(a,b,c,e){V.style.display="block";Ua.innerHTML=
a;Va.innerHTML=b;ha.onclick=pc;ia.onclick=pc;ha.addEventListener("click",c);Db(e)&&ia.addEventListener("click",e)}function pc(){V.style.display="none"}function bb(a){nb(q.body,M);W.style.display="block";Ra=a;xb.checked=!0}function Xb(){rb(q.body,M);W.style.display="none"}function Gc(){Xb();xb.checked?Sa(Ra,"csv"):Ub.checked?Sa(Ra,"xml"):Vb.checked?Sa(Ra,"json"):Wb.checked&&Sa(Ra,"text")}function Hc(a){Ta||(Ta=!0,qc=a.pageX-x.offsetLeft,rc=a.pageY-x.offsetTop)}function Mc(a){Ta&&(x.style.left=a.pageX-
qc+"px",x.style.top=a.pageY-rc+"px")}function Ic(){Ta&&(Ta=!1)}function yb(){X.disabled=!0;N.disabled=""===C.value;oa=[];Y=0}function Oc(){oa=[];x.style.display="block";C.value="";C.focus();yb()}function Jc(){x.style.display="none"}function Lc(){0<Y&&(Y--,sc(),aa(oa[Y].from))}function Kc(a){13!==a.keyCode||N.disabled||Zb()}function Zb(){if(0===oa.length){var a=Yb.checked,b=a?C.value:C.value.toLowerCase(),c={};Za(function(e){var g=a?e.title:e.title.toLowerCase(),k=a?e.description:e.description.toLowerCase();
if(-1<g.indexOf(b)||-1<k.indexOf(b))g=e.from.getMonth()+"-"+e.from.getFullYear(),c.hasOwnProperty(g)||(oa.push(e),c[g]=!0)})}else Y++;sc();aa(oa[Y].from)}function sc(){X.disabled=0===Y;N.disabled=Y===oa.length-1}function hc(a,b,c){r(a);null!==Z&&(clearTimeout(Z),Z=null);zb();"block"!==u.style.display&&(Z=setTimeout(function(){q.body.contains(M)||Cb()||Eb()||(c=h(c)?c:"",u.className=""===c?"calendar-tooltip-event":"calendar-tooltip",""!==c?u.innerHTML=c:(u.innerHTML="",u.appendChild(Xa),u.appendChild(Da),
Xa.innerHTML=b.title,F(b.location)?(xa.innerHTML=b.location,nb(u,xa)):(xa.innerHTML="",rb(u,xa)),F(b.description)?(wa.innerHTML=b.description,nb(u,wa)):(wa.innerHTML="",rb(u,wa)),b.from.getDate()===b.to.getDate()?Da.innerHTML=b.isAllDayEvent?d.allDayEventText:Ka(b.from,b.to):hb(Da,b.from,b.to)),mc(a,u))},d.eventTooltipDelay))}function zb(){null!==Z&&(clearTimeout(Z),Z=null);"none"!==u.style.display&&(u.style.display="none")}function t(a,b){a.onmousemove=function(c){hc(c,null,b)}}function Sc(){null===
Ja&&0<d.autoRefreshTimerDelay&&(Ja=setInterval(function(){Ab()},d.autoRefreshTimerDelay))}function Ab(){"block"===u.style.display||null!==Z||q.body.contains(M)||Cb()||Eb()||(Mb(),ca())}function Jb(a){Qa(a)||(a.className+=" overlay-shown")}function Gb(a){Qa(a)&&(a.className=a.className.replace(" overlay-shown",""))}function Qa(a){return-1<a.className.indexOf("overlay-shown")}function f(a){a=a.toLowerCase();var b="text"===a;Nb.hasOwnProperty(a)||(Nb[a]=b?q.createTextNode(""):q.createElement(a));return Nb[a].cloneNode(!1)}
function ba(a){Aa.hasOwnProperty(a)&&null!==Aa[a]||(Aa[a]=q.getElementById(a));q.body.contains(Aa[a])||(Aa[a]=q.getElementById(a));return Aa[a]}function nb(a,b){try{a.contains(b)||a.appendChild(b)}catch(c){console.warn(c.message)}}function rb(a,b){try{a.contains(b)&&a.removeChild(b)}catch(c){console.warn(c.message)}}function r(a){a.preventDefault();a.cancelBubble=!0}function mc(a,b){var c=a.pageX,e=a.pageY;b.style.display="block";c+b.offsetWidth>db.innerWidth?c-=b.offsetWidth:c++;e+b.offsetHeight>
db.innerHeight?e-=b.offsetHeight:e++;b.style.left=c+"px";b.style.top=e+"px"}function Wa(a,b,c){var e=f("div");a.appendChild(e);a=f("label");a.className="radioButton";a.innerText=b;e.appendChild(a);b=f("input");b.type="radio";b.name=c;a.appendChild(b);c=f("span");c.className="check-mark";a.appendChild(c);return b}function Sb(a,b,c){var e=f("div");a.appendChild(e);a=f("label");a.className="checkbox";a.innerText=b;e.appendChild(a);b=f("input");b.type="checkbox";a.appendChild(b);h(c)&&(b.onchange=c);
c=f("span");c.className="check-mark";a.appendChild(c);return b}function h(a){return void 0!==a&&null!==a&&""!==a}function Db(a){return h(a)&&"function"===typeof a}function tc(a){return h(a)&&"string"===typeof a}function F(a){return tc(a)&&""!==a}function Sa(a,b){b=h(b)?b.toLowerCase():"csv";var c="";var e=[];e=h(a)?e.concat(a):Ya();e=Fa(e);if("csv"===b){var g=[d.fromText,d.toText,d.isAllDayEventText,d.titleText,d.descriptionText,d.locationText],k=g.length;c=[];for(var l=[],m=0;m<k;m++)c.push(pa(g[m]));
l.push(c.join(","));g=e.length;for(k=0;k<g;k++){c=l;m=e[k];var p=[];p.push(pa(Ob(m.from)));p.push(pa(Ob(m.to)));p.push(pa(m.isAllDayEvent?d.yesText:d.noText));p.push(pa(L(m.title)));p.push(pa(L(m.description)));p.push(pa(L(m.location)));c.push(p.join(","))}c=l.join("\n")}else if("xml"===b){g=[];g.push('<?xml version="1.0" ?>');g.push("<Events>");k=e.length;for(c=0;c<k;c++){m=e[c];g.push("<Event>");for(l in m)m.hasOwnProperty(l)&&(p=uc(l),g.push("<"+p+">"+Pb(m[l])+"</"+p+">"));g.push("</Event>")}g.push("</Events>");
c=g.join("\n")}else if("json"===b){l=[];l.push("{");l.push('"events:": [');k=e.length;for(c=0;c<k;c++){m=e[c];l.push("{");for(g in m)m.hasOwnProperty(g)&&l.push('"'+g+'":"'+Pb(m[g])+'",');m=l[l.length-1];l[l.length-1]=m.substring(0,m.length-1);l.push("},")}l[l.length-1]="}";l.push("]");l.push("}");c=l.join("\n")}else if("text"===b){l=[];g=e.length;for(c=0;c<g;c++){m=e[c];for(k in m)m.hasOwnProperty(k)&&l.push(uc(k)+": "+Pb(m[k]));l.push("")}l.pop();c=l.join("\n")}""!==c&&(e=f("a"),g="text"===b?"plain":
b,l="text"===b?"txt":b,e.style.display="none",e.setAttribute("target","_blank"),e.setAttribute("href","data:text/"+g+";charset=utf-8,"+encodeURIComponent(c)),g=e.setAttribute,c=new Date,k=z(c.getDate())+"-"+z(c.getMonth())+"-"+c.getFullYear(),c=z(c.getHours())+"-"+z(c.getMinutes()),g.call(e,"download",d.exportStartFilename+k+"_"+c+"."+l),q.body.appendChild(e),e.click(),q.body.removeChild(e),Ia("onEventsExported"))}function Ob(a){var b=z(a.getDate())+"/"+z(a.getMonth())+"/"+a.getFullYear();a=z(a.getHours())+
":"+z(a.getMinutes());return b+" "+a}function L(a,b){b=h(b)?b:"";return tc(a)?a:b}function uc(a){return a.charAt(0).toUpperCase()+a.slice(1)}function Pb(a){var b=L(a);"boolean"===typeof a?b=a?d.yesText:d.noText:"object"===typeof a&&(b=Ob(a));return b}function pa(a){a=a.replace(/(\r\n|\n|\r)/gm,"").replace(/(\s\s)/gm," ");a=a.replace(/"/g,'""');return'"'+a+'"'}function ac(){var a=new Date(n);a.setMonth(a.getMonth()-1);a.setDate(1);aa(a);Ia("onPreviousMonth")}function cc(){var a=new Date(n);a.setMonth(a.getMonth()+
1);a.setDate(1);aa(a);Ia("onNextMonth")}function bc(){var a=new Date;if(n.getMonth()!==a.getMonth()||n.getFullYear()!==a.getFullYear())aa(),Ia("onToday")}var d={},Pa=this,n,Nb={},Aa={},q=null,db=null,Rb=null,Qb=!1,D={},Ja=null,v=null,fc=null,w=null,Ea=null,y=null,Ga=null,ja=null,M=null,da=null,ea=null,Ba=null,H=null,I=null,B=null,J=null,Ca=null,R=null,ra=null,qa=null,sa=null,A={},S=null,T=null,U=null,ta=null,ua=null,va=null,O=null,La=null,Ma=null,gb=null,Hb=[],la=null,P=null,ya=null,Na=null,Q=null,
G=null,na=null,Oa=null,jb=[],ic=null,V=null,Ua=null,Va=null,ha=null,ia=null,W=null,xb=null,Ub=null,Vb=null,Wb=null,Ra=null,u=null,Xa=null,Da=null,wa=null,xa=null,Z=null,E=null,mb=null,x=null,C=null,Yb=null,X=null,N=null,Ta=!1,qc=0,rc=0,oa=[],Y=0;this.moveToPreviousMonth=function(){ac()};this.moveToNextMonth=function(){cc()};this.moveToToday=function(){bc()};this.exportAllEvents=function(a){d.exportEventsEnabled&&(a=h(a)?a:"csv",Sa(null,a))};this.refresh=function(){Ab()};this.addEvents=function(a,
b,c){b=h(b)?b:!0;c=h(c)?c:!0;for(var e=a.length,g=0;g<e;g++)this.addEvent(a[g],!1,!1);c&&eb("onEventAdded",a);b&&ca()};this.addEvent=function(a,b,c){var e=!1;if(a.from<=a.to){var g=a.from;g=g.getFullYear()+"-"+g.getMonth()+"-"+g.getDate();var k=ec();D.hasOwnProperty(g)||(D[g]={});D[g].hasOwnProperty(k)||(b=h(b)?b:!0,c=h(c)?c:!0,h(a.id)?k=a.id:a.id=k,D[g][k]=$b(a),e=!0,c&&eb("onEventAdded",a),b&&ca())}return e};this.updateEvent=function(a,b,c,e){if(a=this.removeEvent(a,!1,!1))c=h(c)?c:!0,e=h(e)?e:
!0,b.id=ec(),(a=this.addEvent(b,c,!1))&&e&&eb("onEventUpdated",b);return a};this.removeEvent=function(a,b,c){var e=!1;Za(function(g,k,l){if(l===a)return b=h(b)?b:!0,c=h(c)?c:!0,delete D[k][l],e=!0,c&&eb("onEventRemoved",g),b&&ca(),!0});return e};this.clearEvents=function(a){a=h(a)?a:!0;D={};Ia("onEventsCleared");a&&ca()};this.setOptions=function(a){d=null!==a&&"object"===typeof a?a:{};h(d.previousMonthTooltipText)||(d.previousMonthTooltipText="Previous Month");h(d.nextMonthTooltipText)||(d.nextMonthTooltipText=
"Next Month");h(d.addEventTooltipText)||(d.addEventTooltipText="Add Event");h(d.closeTooltipText)||(d.closeTooltipText="Close");h(d.exportEventsTooltipText)||(d.exportEventsTooltipText="Export Events");h(d.todayTooltipText)||(d.todayTooltipText="Today");h(d.refreshTooltipText)||(d.refreshTooltipText="Refresh");h(d.searchTooltipText)||(d.searchTooltipText="Search");h(d.expandDayTooltipText)||(d.expandDayTooltipText="Expand Day");h(d.listAllEventsTooltipText)||(d.listAllEventsTooltipText="View All Events");
h(d.listWeekEventsTooltipText)||(d.listWeekEventsTooltipText="View Current Week Events");h(d.dayHeaderNames)||(d.dayHeaderNames="Mo Tu We Th Fr Sa Su".split(" "));h(d.dayNames)||(d.dayNames="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "));h(d.fromText)||(d.fromText="From:");h(d.toText)||(d.toText="To:");h(d.isAllDayEventText)||(d.isAllDayEventText="Is All Day Event");h(d.titleText)||(d.titleText="Title:");h(d.descriptionText)||(d.descriptionText="Description:");h(d.locationText)||
(d.locationText="Location:");h(d.addText)||(d.addText="Add");h(d.updateText)||(d.updateText="Update");h(d.cancelText)||(d.cancelText="Cancel");h(d.removeEventText)||(d.removeEventText="Remove Event");h(d.addEventTitle)||(d.addEventTitle="Add Event");h(d.editEventTitle)||(d.editEventTitle="Edit Event");h(d.monthNames)||(d.monthNames="January February March April May June July August September October November December".split(" "));h(d.showDayNumberOrdinals)||(d.showDayNumberOrdinals=!0);h(d.dragAndDropForEventsEnabled)||
(d.dragAndDropForEventsEnabled=!0);h(d.exportStartFilename)||(d.exportStartFilename="exported_events_");h(d.fromTimeErrorMessage)||(d.fromTimeErrorMessage="Please select a valid 'From' time.");h(d.toTimeErrorMessage)||(d.toTimeErrorMessage="Please select a valid 'To' time.");h(d.toSmallerThanFromErrorMessage)||(d.toSmallerThanFromErrorMessage="Please select a 'To' date that is larger than the 'From' date.");h(d.titleErrorMessage)||(d.titleErrorMessage="Please enter a value in the 'Title' field (no empty space).");
h(d.stText)||(d.stText="st");h(d.ndText)||(d.ndText="nd");h(d.rdText)||(d.rdText="rd");h(d.thText)||(d.thText="th");h(d.fullDayViewEnabled)||(d.fullDayViewEnabled=!0);h(d.maximumEventsPerDayDisplay)||(d.maximumEventsPerDayDisplay=3);h(d.yesText)||(d.yesText="Yes");h(d.noText)||(d.noText="No");h(d.extraSelectableYearsAhead)||(d.extraSelectableYearsAhead=51);h(d.allDayEventText)||(d.allDayEventText="All Day Event");h(d.allEventsText)||(d.allEventsText="All Events");h(d.exportEventsEnabled)||(d.exportEventsEnabled=
!0);h(d.manualEditingEnabled)||(d.manualEditingEnabled=!0);h(d.showTimesInMainCalendarEvents)||(d.showTimesInMainCalendarEvents=!1);h(d.startsOnText)||(d.startsOnText="Starts on the");h(d.andFinishesOnText)||(d.andFinishesOnText="and finishes on the");h(d.toTimeText)||(d.toTimeText="to");h(d.autoRefreshTimerDelay)||(d.autoRefreshTimerDelay=5E3);h(d.confirmEventRemoveTitle)||(d.confirmEventRemoveTitle="Confirm Event Removal");h(d.confirmEventRemoveMessage)||(d.confirmEventRemoveMessage="Removing this event cannot be undone.  Do you want to continue?");
h(d.okText)||(d.okText="OK");h(d.selectExportTypeTitle)||(d.selectExportTypeTitle="Select Export Type");h(d.fullScreenModeEnabled)||(d.fullScreenModeEnabled=!0);h(d.eventTooltipDelay)||(d.eventTooltipDelay=1E3);h(d.selectColorsText)||(d.selectColorsText="Select Colors");h(d.backgroundColorText)||(d.backgroundColorText="Background Color:");h(d.textColorText)||(d.textColorText="Text Color:");h(d.borderColorText)||(d.borderColorText="Border Color:");h(d.searchEventsTitle)||(d.searchEventsTitle="Search Events");
h(d.forText)||(d.forText="For:");h(d.previousText)||(d.previousText="Previous");h(d.nextText)||(d.nextText="Next");h(d.matchCaseText)||(d.matchCaseText="Match Case");h(d.minimumDayHeight)||(d.minimumDayHeight=0)};(function(a,b){q=a;db=b;Rb=vc;Pa.setOptions(wc);aa(xc)})(document,window)};